## ğŸ¤”ARC(Auto Referencing Counter)

### ì•ˆë…•í•˜ì„¸ìš”ğŸ‘‹
ê¼¼ê¼¼í•œ ì¬ì€ì”¨ ê¸°ë³¸í¸ chapter2ë¥¼ ê³µë¶€í•˜ë‹¤ ARCê°€ ê¶ê¸ˆí•´ì ¸ì„œ ê³µë¶€ë¥¼ í–ˆìŠµë‹ˆë‹¤!!
> ì°¸ì¡° ì¹´ìš´í„°ëŠ” ì´ì „ì— ê³µë¶€í•˜ë‹¤ í•œë²ˆì¯¤ ë“¤ì–´ë´¤ëŠ”ë°,, ì´ë²ˆê¸°íšŒì— ìì„¸í•˜ê²Œ!!

---

### ğŸ”­ Auto Referencing Counterë¥¼ ê³µë¶€í•˜ê¸° ì „ì—!

ğŸŒ± Value Type ê³¼ Reference Typeì— ëŒ€í•´ì„œ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.

:white_medium_square: Value Type : Structure, Enum, Tuple ...

> ìŠ¤íƒì— ì €ì¥ëœë‹¤. 
>
> ìŠ¤íƒì˜ ê²½ìš° ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ë°ì´í„° ìë™ìœ¼ë¡œ ì‚­ì œëœë‹¤.

:black_medium_square: Reference Type  : Class, Clousre ... 
> í™ì— ì €ì¥ëœë‹¤.
>
>í™ì˜ ê²½ìš° íŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš° ê°œë°œìê°€ ì§ì ‘ ì œê±° í•´ì•¼í•œë‹¤.

ğŸŒ± Reference Counting ì— ëŒ€í•´ì„œ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤

> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” í”„ë¡œí¼í‹°ê°€ í•œê°œ ì´ìƒ ì¡´ì¬ í•  ê²½ìš° ë©”ëª¨ë¦¬ì— ìœ ì§€ëœë‹¤.
>
> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” í”„ë¡œí¼í‹°ê°€ í•œ ê°œë„ ì—†ì„ ê²½ìš° ë©”ëª¨ë¦¬ì—ì„œ ì œê±°ë˜ëŠ”ë°,
> ì œê±°ë  ì‹œì ì„ íŒŒì•…í•˜ê¸° ìœ„í•´ ì°¸ì¡°ì¤‘ì¸ ë³€ìˆ˜ë“¤ì„ countingí•œë‹¤.
>
> ì´ë•Œ Reference Countingì€ ì˜¤ì§ **reference Type**âœ¨ ì— ëŒ€í•´ì„œë§Œ ì§€ì›ë©ë‹ˆë‹¤.

### ğŸ”­ ARC

:white_medium_square: ë” ì´ìƒ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ 'ì¸ìŠ¤í„´ìŠ¤'ì˜ ë©”ëª¨ë¦¬ ì €ì¥ì„ í•´ì œí•  ìˆ˜  ìˆë‹¤.

:black_medium_square: í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ëœ í›„ì— **í•œê°œì˜ ì¸ìŠ¤í„´ìŠ¤**ë¥¼ ë§Œë“¤ë©´ **ARC**ê°€ **ì¸ìŠ¤í„´ìŠ¤ ì •ë³´ì— ëŒ€í•œ í•œ ë©ì–´ë¦¬ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹**ì‹œí‚¨ë‹¤.

:white_medium_square: ë˜í•œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê´€ë˜ì–´ ì €ì¥ëœ í”„ë¡œí¼í‹°ë„ ë©”ëª¨ë¦¬ì— ARCì— ì˜í•´ í• ë‹¹ëœë‹¤.

:black_medium_square: **ë” ì´ìƒ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš” ì—†ì„ ê²½ìš°** ARCëŠ” ë©”ëª¨ë¦¬ì— ì‚¬ìš©ëœ **ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•´ë°©**ì‹œì¼œ ê·¸ ìë¦¬ì— ë‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê²Œí•œë‹¤.
> í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš° ê³µ ê°„ì„ ì°¨ì§€í•˜ì§€ ì•Šë„ë¡ ë¹ˆ ê³µê°„ìœ¼ë¡œ ë³´ì¥í•´ì¤€ë‹¤.

---

### ğŸ¤” ë§Œì•½ ì¸ìŠ¤í„´ìŠ¤ê°€ ì‚¬ìš©ì¤‘ì¼ ë•Œ ARCê°€ í• ë‹¹ì„ í•´ì œí•œë‹¤ë©´?

> ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.
> 
> **ğŸ”­ ê·¸ë ‡ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”ë¡œ í•  ë•Œ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” ê²ƒì„ ë³´ì¥í•˜ë ¤ë©´???**
> > ì ì–´ë„ 1ê°œì˜ í™œë™ì¤‘ì¸, ì—¬ì „íˆ ì¡´ì¬í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ì„œëŠ” í• ë‹¹ì„í•´ì œí•˜ì§€ ì•ŠëŠ”ë‹¤.
> 
> ì´ ë•Œ í™œë™ì¤‘ì¸, ì—¬ì „íˆ ì¡´ì¬í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ëŠ” **Reference Countring**ì„ í†µí•´ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

### ğŸ”­   ARCê°€ ì ì ˆí•˜ê²Œ ë©”ëª¨ë¦¬ì— í• ë‹¹, í•´ì œ ì‹œí‚¤ë ¤ë©´?

:white_medium_square: ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ì„œ **"Strong"**  reference(ê°•í•œ ì°¸ì¡°)ë¡œ í• ë‹¹ì„ í•˜ì!! 

> Strong ì°¸ì¡°ëŠ” í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ "í™•ê³ í•˜ê²Œ ìœ ì§€ì‹œì¼œ ì¤„ê±°ì•¼!!"
> > ì°¸ì¡°ì¤‘ì¸ ë™ì•ˆì€ í• ë‹¹ í•´ì œ í•˜ì§€ ì•Šì„ ê±°ì•¼!! (Reference Counting)

- iOSëŠ” ARCë¥¼ í†µí•´ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ í•œë‹¤.
- ì¸ìŠ¤í„´ìŠ¤ ë©”ëª¨ë¦¬ ê´€ë¦¬ëŠ” Reference Countingì„ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.

---

![1](https://user-images.githubusercontent.com/96910404/156913171-75d05fb0-383f-4c8e-ae37-8758d2a1a3b3.png)
###  ğŸ”­Strong Reference Cycles Between Class Instance
![2](https://user-images.githubusercontent.com/96910404/156913177-7dae526f-cebe-4a12-8e5d-06b662c58a4b.png)
> ê°•í•œ ì°¸ì¡° ê°„ì— Cycle í˜•ì„±í•˜ëŠ” ê²½ìš° ( ì°¸ì¡° ì¹´ìš´íŠ¸ê°€ ì–´ë””ì„œ 0ì´ ë˜ëŠ”ì§€ ì½”ë“œì—ì„œ ì–»ì„ ìˆ˜ ì—†ë„ë¡ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œ ê²½ìš°)
>  > ê° í´ë˜ìŠ¤ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ ë©¤ë²„ë³€ìˆ˜ ê°„ Strong ì°¸ì¡°ë¥¼ í•  ê²½ìš°.
![3](https://user-images.githubusercontent.com/96910404/156913178-a8dceeca-1d42-486c-8340-00ee173e3de2.png)
 ### ğŸ¤” ì´ ê²½ìš°ë¥¼ String Reference Cycleì´ë¼ê³  í•œë‹¤. 
 
 > ARCëŠ” ê°•í•œ ì°¸ì¡°ê°„ ì¸ìŠ¤í„´ìŠ¤ í•´ì œë¥¼ í•˜ì§€ ì•Šì•„ì„œ ì°¸ì¡° ì¹´ìš´íŠ¸ê°€ ì¦ê°€, ê°ì†Œí•˜ì§€ ì•Šê³ , ê°œë°œìê°€ ì§ì ‘ nil ì²˜ë¦¬ë¥¼ í•´ì£¼ì–´ë„ ê°•í•œ ì°¸ì¡°ê°€ í•´ì œë˜ì§€ ì•ŠëŠ”ë‹¤.
  
:white_medium_square: ì´ ê²½ìš° í•´ê²°ë°©ë²•ì´ ìˆë‹¤!! ( ë‘ê°€ì§€)

:black_medium_square: ì¸ìŠ¤í„´ìŠ¤ ë©¤ë²„ë³€ìˆ˜ ë“¤ ê°„ Strong ì°¸ì¡°ë¥¼ í•˜ëŠ” ë³€ìˆ˜ë“¤ ì¤‘ í•œê°œë¥¼ **Strong** ëŒ€ì‹  **weak , unowned** ì°¸ì¡°ë¡œ ë°”ê¾¸ë©´ ê°•í•œ ì°¸ì¡° cycleì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
![weak](https://user-images.githubusercontent.com/96910404/156913181-005d9410-756b-484f-b854-f19e49059163.jpeg)
### weak í‚¤ì›Œë“œ!

:black_medium_square: ì•½í•œ ì°¸ì¡°weakì˜ ê²½ìš° **Optional** typeë¡œ ì„ ì–¸í•œë‹¤!
![4](https://user-images.githubusercontent.com/96910404/156913179-8730a8cb-6cf1-4bd7-96d5-10a6b04a5195.png)
:white_medium_square: ì„œë¡œ ê°•í•œ ì°¸ì¡° ë§Œë“œëŠ” ê²ƒì„ ë¯¸ë£¬ë‹¤.
> ì¸ìŠ¤í„´ìŠ¤ê°„ ì„œë¡œ ê°•í•œì°¸ì¡° cycle ë˜ëŠ” ê²ƒì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.
>  > ê°•í•œ ì‹¸ì´í´ì´ ë˜ëŠ” í•´ë‹¹ í”„ë¡œí¼í‹° ì„ ì–¸í•˜ê¸° ì „ì— **weak** í‚¤ì›Œë“œ ì„ ì–¸í•˜ì
>  
>  ê·¸ë ‡ë‹¤ë©´ ë‹¤ë¥¸ í”„ë¡œí¼í‹°ê°€ í• ë‹¹ í•´ì œ ë¬ì„ ê²½ìš° reference ë˜ê³  ìˆëŠ” weak í”„ë¡œí¼í‹°ì— ëŒ€í•´ì„œ 
>
> ARCâœ¨ê°€ ìë™ìœ¼ë¡œ nil(ì¸ìŠ¤í„´ìŠ¤ í• ë‹¹ í•´ì œ) ì²˜ë¦¬ë¥¼ í•œë‹¤.
![5](https://user-images.githubusercontent.com/96910404/156913180-2d0c7ab5-2b04-4e01-9c84-ebc08bb202a8.png)
//ì‚¬ì§„ 2
:black_medium_square: ê°•í•œì°¸ì¡°ë¡œ ì—°ê²°ëœ Aì— ëŒ€í•´ì„œ nil ì²˜ë¦¬ë¥¼ í•  ê²½ìš°

:white_medium_square: ë”ì´ìƒ A B ê°„ì— ê°•í•œ ì°¸ì¡°ê°€ ì—†ì–´ì ¸ B ë˜í•œ nilì²˜ë¦¬ê°€ ëœë‹¤!!

ì •ë§ ìì„¸í•œ ì˜ˆì‹œëŠ”

https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html
